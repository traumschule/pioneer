fragment ProposalCreatedEventFields on ProposalCreatedEvent {
  id
  createdAt
  inBlock
  proposal {
    id
    title
    creator {
      id
      handle
    }
  }
}

fragment ProposalCancelledEventFields on ProposalCancelledEvent {
  id
  createdAt
  inBlock
  proposal {
    id
    title
    creator {
      id
      handle
    }
  }
}

fragment ProposalStatusUpdatedEventFields on ProposalStatusUpdatedEvent {
  id
  createdAt
  inBlock
  proposal {
    id
    title
  }
  newStatus {
    __typename
  }
}

fragment ProposalDecisionMadeEventFields on ProposalDecisionMadeEvent {
  id
  createdAt
  inBlock
  proposal {
    id
    title
  }
}

fragment ProposalDiscussionModeChangedEventFields on ProposalDiscussionThreadModeChangedEvent {
  id
  createdAt
  inBlock
  thread {
    proposal {
      id
      title
    }
  }
  newMode {
    __typename
  }
}

fragment ProposalExecutedEventFields on ProposalExecutedEvent {
  id
  createdAt
  inBlock
  proposal {
    id
    title
  }
  executionStatus {
    __typename
  }
}

fragment ProposalVotedEventFields on ProposalVotedEvent {
  id
  createdAt
  inBlock
  proposal {
    id
    title
  }
  voter {
    id
    handle
  }
}

fragment ProposalDiscussionPostCreatedEventFields on ProposalDiscussionPostCreatedEvent {
  id
  createdAt
  inBlock
  post {
    id
    author {
      id
      handle
    }
    discussionThread {
      proposal {
        id
        title
      }
    }
  }
}

fragment ProposalDiscussionPostUpdatedEventFields on ProposalDiscussionPostUpdatedEvent {
  id
  createdAt
  inBlock
  post {
    id
    author {
      id
      handle
    }
    discussionThread {
      proposal {
        id
        title
      }
    }
  }
}

fragment ProposalDiscussionPostDeletedEventFields on ProposalDiscussionPostDeletedEvent {
  id
  createdAt
  inBlock
  post {
    id
    author {
      id
      handle
    }
    discussionThread {
      proposal {
        id
        title
      }
    }
  }
}

query GetProposalsEvents {
  proposalCreatedEvents(orderBy: inBlock_DESC) {
    ...ProposalCreatedEventFields
  }
  proposalCancelledEvents(orderBy: inBlock_DESC) {
    ...ProposalCancelledEventFields
  }
  proposalStatusUpdatedEvents(orderBy: inBlock_DESC) {
    ...ProposalStatusUpdatedEventFields
  }
  proposalDecisionMadeEvents(orderBy: inBlock_DESC) {
    ...ProposalDecisionMadeEventFields
  }
  proposalDiscussionThreadModeChangedEvents(orderBy: inBlock_DESC) {
    ...ProposalDiscussionModeChangedEventFields
  }
  proposalExecutedEvents(orderBy: inBlock_DESC) {
    ...ProposalExecutedEventFields
  }
  proposalVotedEvents(orderBy: inBlock_DESC) {
    ...ProposalVotedEventFields
  }
  proposalDiscussionPostCreatedEvents(orderBy: inBlock_DESC) {
    ...ProposalDiscussionPostCreatedEventFields
  }
  proposalDiscussionPostUpdatedEvents(orderBy: inBlock_DESC) {
    ...ProposalDiscussionPostUpdatedEventFields
  }
  proposalDiscussionPostDeletedEvents(orderBy: inBlock_DESC) {
    ...ProposalDiscussionPostDeletedEventFields
  }
}
